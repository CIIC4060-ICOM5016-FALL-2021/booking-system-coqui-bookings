Index: backend/app.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from flask import Flask, request, jsonify\r\nfrom flask_cors import CORS\r\n\r\nfrom backend.controller.booking import BaseBooking\r\nfrom backend.controller.booking_invitee import BaseBookingInvitee\r\nfrom backend.controller import BaseUser\r\nfrom backend.controller import BaseRoom\r\n\r\napp = Flask(__name__)\r\nCORS(app)\r\n\r\n\r\n@app.route('/')\r\ndef hello_world():\r\n    return \"Welcome to the Coqui Booking Calendar App Homepage\"\r\n\r\n\r\n# --------------------------------------------------------------------------------------\r\n# User\r\n# --------------------------------------------------------------------------------------\r\n@app.route('/coqui-bookings/User/users', methods=['GET', 'POST'])\r\ndef handleUsers():\r\n    if request.method == 'POST':\r\n        return BaseUser().createNewUser(request.json)\r\n    elif request.method == 'GET':\r\n        return BaseUser().getAllUsers()\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/User/users/<int:user_id>', methods=['GET', 'PUT', 'DELETE'])\r\ndef handleUserById(user_id):\r\n    if request.method == 'GET':\r\n        return BaseUser().getUserById(user_id)\r\n    elif request.method == 'PUT':\r\n        return BaseUser().updateUser(user_id, request.json)\r\n    elif request.method == 'DELETE':\r\n        return BaseUser().deleteUser(user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/User/role/<int:user_id>', methods=['GET'])\r\ndef handleUserRoleById(user_id):\r\n    if request.method == 'GET':\r\n        return BaseUser().getUserRoleById(user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/User/users/<int:user_id>/schedule', methods=['GET'])\r\ndef handleUserSchedule(user_id):\r\n    if request.method == 'GET':\r\n        return BaseUser().getUserDaySchedule(user_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/User/users/<int:user_id>/most_used_room', methods=['GET'])\r\ndef handleUserMostUsedRoom(user_id):\r\n    if request.method == 'GET':\r\n        return BaseUser().getMostUsedRoomByUserId(user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n# --------------------------------------------------------------------------------------\r\n# Unavailable User\r\n# --------------------------------------------------------------------------------------\r\n@app.route('/coqui-bookings/User/unavailable-time-users', methods=['GET'])\r\ndef handleUnavailableTimeOfUsers():\r\n    if request.method == 'GET':\r\n        return BaseUser().getAllUnavailableTimeOfUsers()\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/User/unavailable-time-users/<int:user_id>', methods=['GET'])\r\ndef handleUnavailableTimeOfUsersById(user_id):\r\n    if request.method == 'GET':\r\n        return BaseUser().getUnavailableTimeOfUserById(user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/User/<int:user_id>/unavailable-time-slot/', methods=['POST'])\r\ndef handleUserAvailability(user_id):\r\n    if request.method == 'POST':\r\n        return BaseUser().createUserUnavailableTimeFrame(user_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n# --------------------------------------------------------------------------------------\r\n# Room\r\n# --------------------------------------------------------------------------------------\r\n@app.route('/coqui-bookings/Room/rooms', methods=['GET', 'POST'])\r\ndef handleRooms():\r\n    if request.method == 'POST':\r\n        return BaseRoom().createNewRoom(request.json)\r\n    elif request.method == 'GET':\r\n        return BaseRoom().getAllRooms()\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Room/rooms/verifytimeframe', methods=['GET'])\r\ndef handleRoomVerifications():\r\n    if request.method == 'GET':\r\n        return BaseRoom().getAllAvailableRoomsAtTimeFrame(request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Room/rooms/<int:room_id>', methods=['GET', 'PUT', 'DELETE'])\r\ndef handleRoomById(room_id):\r\n    if request.method == 'GET':\r\n        return BaseRoom().getRoomById(room_id)\r\n    elif request.method == 'PUT':\r\n        return BaseRoom().updateRoom(room_id, request.json)\r\n    elif request.method == 'DELETE':\r\n        return BaseRoom().deleteRoom(room_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Room/unavailable-time-rooms', methods=['GET'])\r\ndef handleUnavailableTimeOfRooms():\r\n    if request.method == 'GET':\r\n        return BaseRoom().getAllUnavailableTimeOfRooms()\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Room/unavailable-time-rooms/<int:room_id>', methods=['GET'])\r\ndef handleUnavailableTimeOfRoomById(room_id):\r\n    if request.method == 'GET':\r\n        return BaseRoom().getUnavailableTimeOfRoomById(room_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Room/type/<int:room_id>', methods=['GET'])\r\ndef handleRoomType(room_id):\r\n    if request.method == 'GET':\r\n        return BaseRoom().getRoomTypeById(room_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n\r\n\r\n@app.route('/coqui-bookings/Room/<int:room_id>/unavailable-time-slot/User/<int:user_id>', methods=['POST'])\r\ndef handleRoomAvailability(room_id, user_id):\r\n    if request.method == 'POST':\r\n        return BaseRoom().createRoomUnavailableTimeFrame(user_id, room_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Room/rooms/most_used_room', methods=['GET'])\r\ndef handleMostUsedRoom():\r\n    if request.method == 'GET':\r\n        return BaseRoom().getMostUsedRoom()\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Room/rooms/<int:room_id>/schedule', methods=['GET'])\r\ndef handleRoomSchedule(room_id):\r\n    if request.method == 'GET':\r\n        return BaseRoom().getRoomDaySchedule(room_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n# --------------------------------------------------------------------------------------\r\n# Booking\r\n# --------------------------------------------------------------------------------------\r\n@app.route('/coqui-bookings/Booking/bookings/all/user/<int:user_id>', methods=['GET'])\r\ndef handleGetAllBookings(user_id):\r\n    if request.method == 'GET':\r\n        return BaseBooking().getAllBookings(user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/<int:booking_id>', methods=['DELETE'])\r\ndef handleBookingById(booking_id):\r\n    if request.method == 'DELETE':\r\n        return BaseBooking().deleteBooking(booking_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/<int:booking_id>/User/<int:user_id>/update', methods=['PUT'])\r\ndef handleBookingByIdWithRole(booking_id, user_id):\r\n    if request.method == 'PUT':\r\n        return BaseBooking().updateBooking(booking_id, user_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/<int:booking_id>/User/<int:user_id>/get', methods=['GET'])\r\ndef handleGetBookingById(booking_id, user_id):\r\n    if request.method == 'GET':\r\n        return BaseBooking().getBookingById(booking_id, user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/user/<int:user_id>/create', methods=['POST'])\r\ndef handleBookingByUserId(user_id):\r\n    if request.method == 'POST':\r\n        return BaseBooking().createNewBooking(user_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/User/TimeFrame/<int:room_id>', methods=['GET'])\r\ndef handleWhoAppointedRoom(room_id):\r\n    if request.method == 'GET':\r\n        return BaseBooking().getUserBookedRoomAtTimeFrame(room_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/busiest-times', methods=['GET'])\r\ndef handleBusiestTimes():\r\n    if request.method == 'GET':\r\n        return BaseBooking().getTop5BusiestTimes()\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/most-booked-users', methods=['GET'])\r\ndef handleMostBookedUsers():\r\n    if request.method == 'GET':\r\n        return BaseBooking().getTop10MostBookedUsers()\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/most-booked-rooms', methods=['GET'])\r\ndef handleMostBookedRooms():\r\n    if request.method == 'GET':\r\n        return BaseBooking().getTop10MostBookedRooms()\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n@app.route('/coqui-bookings/Booking/<int:booking_id>/free-time-for-users', methods=['GET'])\r\ndef handleFreeTimeForUsers(booking_id):\r\n    if request.method == 'GET':\r\n        return BaseBooking().getFreeTimeForUsers(booking_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n# --------------------------------------------------------------------------------------\r\n# Booking Invitee\r\n# --------------------------------------------------------------------------------------\r\n@app.route('/coqui-bookings/Booking/<int:booking_id>/BookingInvitee/bookingInvitees', methods=['POST', 'PUT'])\r\ndef handleBookingInviteesByBookingId(booking_id):\r\n    if request.method == 'POST':\r\n        return BaseBookingInvitee().createNewInvitee(booking_id, request.json)\r\n    elif request.method == 'PUT':\r\n        return BaseBookingInvitee().updateInvitees(booking_id, request.json)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/<int:booking_id>/BookingInvitee/bookingInvitees/delete/<int:invitee_id>',\r\n           methods=['DELETE'])\r\ndef handleBookingInviteeDeletion(booking_id, invitee_id):\r\n    if request.method == 'DELETE':\r\n        return BaseBookingInvitee().deleteInvitee(booking_id, invitee_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/<int:booking_id>/user/<int:user_id>/BookingInvitee/information',\r\n           methods=['GET'])\r\ndef handleBookingInviteesByUserID(booking_id, user_id):\r\n    if request.method == 'GET':\r\n        return BaseBookingInvitee().getInviteesByBookingId(booking_id, user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/Booking/bookings/all/user/<int:user_id>/BookingInvitee/information', methods=['GET'])\r\ndef handleAllBookingInviteesByUserId(user_id):\r\n    if request.method == 'GET':\r\n        return BaseBookingInvitee().getAllInviteesOfAllBooking(user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n@app.route('/coqui-bookings/User/users/<int:user_id>/invitee-most-booked-with', methods=['GET'])\r\ndef handleInviteeUserHasBeenMostBookedWith(user_id):\r\n    if request.method == 'GET':\r\n        return BaseUser().getInviteUserHasBeenMostBookedWith(user_id)\r\n    else:\r\n        return jsonify(\"Method Not Allowed\"), 405\r\n\r\n\r\n# --------------------------------------------------------------------------------------\r\n# Main\r\n# --------------------------------------------------------------------------------------\r\nif __name__ == 'main':\r\n    app.run()\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/backend/app.py b/backend/app.py
--- a/backend/app.py	
+++ b/backend/app.py	
@@ -3,8 +3,8 @@
 
 from backend.controller.booking import BaseBooking
 from backend.controller.booking_invitee import BaseBookingInvitee
-from backend.controller import BaseUser
-from backend.controller import BaseRoom
+from backend.controller.user import BaseUser
+from backend.controller.room import BaseRoom
 
 app = Flask(__name__)
 CORS(app)
